displayName: "BambooHR"
icon: # TODO: ask for nice icon
description: "BambooHR as a System of Record"
address: "api.bamboohr.com/api/gateway.php" 
defaultSyncFrequency: HOURLY
defaultSyncMinInterval: 1
defaultApiCallFrequency: SECONDLY
defaultApiCallMinInterval: 1
type: BambooHR-1.0.0
# Example Config: {"apiVersion":"v1","companyDomain":"sgnl","onlyCurrent":true,"attributeMappings":{"date":"yyyy-mm-dd","bool":{"true":["True","yes","1"],"false":["False","no","0"]}}}

# Config Field Info:
# [Required] ApiVersion: The version of the BambooHR API to use. Currently, only v1 is supported.

# [Required] CompanyDomain: The subdomain used to access your account 
# (If you access BambooHR at https://mycompany.bamboohr.com, then the subdomain is "mycompany")

# [Optional] OnlyCurrent: If true, only the current employees will be returned.
# If false, all employees will be returned. This defaults to false.

# [Optional] AttributeMappings: A map of attribute types to potential mappings.
# The BambooHR SoR Response returns all types as string values. By default, we will attempt to convert 
# all attributes to the types specified in the catalog. This field allows you to specify additional mappings
# to perform unconventional type conversions.

# [Optional] AttributeMappings.Date: The format of the date string in the BambooHR response.
# The BambooHR Admin Console allows you to configure date formats from four options.
# To find this: Visit the BambooHR Admin Console > Settings > Account > General Settings > Date Input Format (Dropdown)
# If this field is not specified, we default to "yyyy-mm-dd".

# [Optional] AttributeMappings.Bool: A map of boolean values to their possible string representations.
# The BambooHR bool type has many possible response values including "0/1", "yes/no", "true/false", etc.
# This field allows you to specify the possible values for true and false.
# By default, we will attempt a generic conversion for any attribute that is specified as a bool type in the catalog.
# Golang recognizes these true/false combinations by default:
# "1", "t", "T", "true", "TRUE", "True" are recognized as true.
# "0", "f", "F", "false", "FALSE", "False" are recognized as false.

adapterConfig: 
auth: # https://documentation.bamboohr.com/docs/getting-started#authentication
  - basic:
      username: "{{Input Required: Secret/API key}}"
      password: "xxx" # Random String
entities:
  # https://documentation.bamboohr.com/docs/list-of-field-names
  # Note: Make sure the externalIDs of the attributes match exactly with the field names in the BambooHR documentation.
  # Custom fields are prefixed with 'custom' in the SoR - see customBoolField for an example.
  # The endpoint does not return any errors when fields are misspelled, it simply omits the information.
  Employee:
    displayName: Employee
    externalId: Employee
    description: Employee Entity in BambooHR
    pageSize: 100
    pagesOrderedById: false
    attributes:
      - name: id
        externalId: id
        type: Int64
        indexed: true
        uniqueId: true
        attributeAlias: employeeId
      - name: bestEmail
        externalId: bestEmail
        type: String
      - name: dateOfBirth
        externalId: dateOfBirth
        type: DateTime
      - name: fullName
        externalId: fullName1
        type: String
      - name: isPhotoUploaded
        externalId: isPhotoUploaded
        type: Bool
      - name: customBoolField
        externalId: customcustomBoolField
        type: Bool
      - name: supervisorEId
        externalId: supervisorEId
        type: Int64
        indexed: true
        attributeAlias: supervisorEId
      - name: supervisorEmail
        externalId: supervisorEmail
        type: String
      - name: lastChanged
        externalId: lastChanged
        type: DateTime

relationships:
  EmployeeSupervisor:
    name: EmployeeSupervisor
    fromAttribute: employeeId
    toAttribute: supervisorEId

